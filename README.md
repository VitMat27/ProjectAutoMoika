# Project AutoMoika

**Мобильное приложение для клиентов и WEB-панель управления для сети автомоек**

## 1. Введение

### Цель проекта
Создание единой цифровой экосистемы для сети автомоек, которая повысит удобство для клиентов через мобильное приложение и оптимизирует бизнес-процессы сотрудников через веб-интерфейс.

### Целевая аудитория
- **Клиенты:** Владельцы автомобилей, ценящие время, удобство и прозрачность обслуживания
- **Персонал:** Директор, бухгалтер, оператор (кассир), мойщик

### Технологический стек
- **Клиентская часть:** Кроссплатформенное мобильное приложение (iOS, Android)
- **Серверная часть и администрирование:** Веб-приложение, доступное с любых устройств

## 2. Детализированные функциональные требования

### 2.1. Роли и их права в системе

#### А. Клиент (Мобильное приложение)

**Регистрация и аутентификация**
- Регистрация по номеру телефона (основной идентификатор)
- Создание логина и пароля (альтернативный способ входа)
- Профиль пользователя с указанием модели ТС (можно несколько автомобилей)

**Бронирование услуг**
- Интерактивная карта с отображением точек мойки
- Просмотр услуг, цен, текущих акций и рейтинга точки
- Выбор конкретного бокса и слота времени в реальном времени
- Онлайн-оплата через интегрированную платежную систему (карта, Apple Pay/Google Pay)

**Управление бронированиями**
- Просмотр истории и текущих записей
- **Отмена записи с автоматическим возвратом средств** при условии, что до начала услуги осталось более 30 минут

**Обратная связь и аналитика**
- Возможность оставить отзыв и оценку после оказания услуги
- Просмотр текущей загруженности выбранной мойки (в виде графика или индикатора)

**Дополнительные функции**
- Push-уведомления: напоминание о записи, статус готовности, информация об акциях

#### Б. Директор (Web-панель)

**Общее управление**
- Полный контроль над всеми точками сети: добавление, редактирование, временное отключение

**Бизнес-аналитика и отчетность**
- **Дашборд с KPI:** Посещаемость, выручка, средний чек, окупаемость по точкам
- **Рейтинг клиентов:** Система лояльности (выделение VIP) и "анти-рейтинг" (учет частых отмен, негативных отзывов)
- **Статистика по персоналу:** Эффективность мойщиков (кол-во обслуженных авто, среднее время), анализ простоя

**Управление услугами и маркетинг**
- Управление прайс-листом, пакетами услуг и акционными предложениями

**Мониторинг в реальном времени**
- **Тепловая карта загруженности боксов** по всем точкам
- **Прогнозная аналитика** на основе исторических данных

#### В. Бухгалтер (Web-панель)

**Финансовая отчетность**
- Детальные отчеты по выручке, безналу/налу, возвратам по каждой точке и в целом по сети
- Фильтрация отчетов по периодам

**Администрирование**
- Управление списком VIP-клиентов (скидки, привилегии)
- Участие в настройке тарифов и акций (согласование)

#### Г. Оператор (Кассир) (Web-панель)

**Рабочее место кассира**
- Единый интерфейс для обработки онлайн-бронирований и офлайн-клиентов
- Поиск клиентов по номеру телефона, логину или номеру заказа
- Регистрация "разовых" клиентов без регистрации в приложении
- Прием оплаты на месте (наличные, карта)
- Назначение на специальный "оффлайн-бокс" для клиентов без предварительной записи

**Управление сменой**
- Просмотр и управление списком записей на текущий день

#### Д. Мойщик (Web-панель / Tablet UI)

**Рабочее табло**
- Минималистичный интерфейс, адаптированный для планшета
- Отображение списка заказов на текущий день с приоритетами
- По каждому заказу: номер, статус оплаты, список услуг, модель ТС
- Возможность простой отметки о **начале и завершении** услуги (кнопка)

## 3. Бизнес-логика и расчеты

### Исходные данные
- **Количество боксов:** Корсаков (5), Долинск (7), ЮС (10)
- **Рабочий день:** 12 часов (720 минут)
- **Среднее время обслуживания одного авто:** 12.5 минут

### Расчет пропускной способности (максимальная)
- Машин в час на один бокс: `60 / 12.5 = 4.8 авто/час`
- Машин в день на один бокс: `4.8 × 12 = ~57.6 авто/бокс/день`
- Округляем до **58 авто/бокс/день** для запаса

### Итоговая пропускная способность сети
- **Максимальная (ЮС):** `10 боксов × 58 = 580 авто/день`
- **Минимальная (Корсаков):** `5 боксов × 58 = 290 авто/день`
- **Суммарно по сети:** `(5+7+10) × 58 = ~1276 авто/день`

### Важные уточнения к расчетам
1. **Прогнозная загрузка:** В реальности 100% загрузка недостижима. Система должна учитывать коэффициент загрузки (например, 70-80%) для более точных прогнозов
2. **Временные буферы:** В алгоритме бронирования необходимо закладывать технологические паузы (например, 15 минут каждый час) для пересменки, уборки, что снизит расчетное количество до **~48-50 авто/бокс/день**
3. **Динамическое ценообразование:** На основе данных о загруженности система может предлагать **динамическое ценообразование** (например, скидки в "непиковые" часы и надбавки в час пик)

## 4. Нефункциональные требования

- **Производительность:** Время отклика интерфейса не более 2 секунд
- **Безопасность:** Защита персональных данных клиентов (соответствие ФЗ-152), безопасное хранение платежной информации
- **Масштабируемость:** Архитектура должна позволять легко добавлять новые точки мойки и сервисы
- **Надежность:** Доступность системы 99.5% в рабочее время

## 5. Дорожная карта проекта

### Фаза 1 (MVP)
- Базовая регистрация и бронирование для клиентов
- Веб-панель для оператора и мойщика
- Система оплаты и учета заказов

### Фаза 2
- Расширенная аналитика для директора
- Система отзывов и рейтингов
- Push-уведомления

### Фаза 3
- Прогнозная аналитика
- Динамическое ценообразование
- Интеграции со сторонними сервисами

## 6. Документация и диаграммы

| № | Компонент | Файлы |
|---|-----------|-------|
| **I** | **Требования** | [`Требования.md`](./treb.md) |
| **II** | **Диаграмма последовательности** | [Диаграмма](./automoika-sequence-diagram.mmd)<br>![Диаграмма](./posled.png) |
| **III** | **ERD диаграмма** | ![ERD](./erd.png) |
| **IV** | **UseCase диаграмма** | ![UseCase](./docs/useCase/UML_UseCases.png) |
| **V** | **User Story** | [`User_story.md`](./docs/userStory.md) |
| **VI** | **User Story Mapping** | [`UserStory Mapping`](./docs/UserStoryMapping/User%20Story%20Mapping%202025-11-05-09-05.svg) |
| **VII** | **Status Model** | ![Status Model](./docs/statusModel/model.png) |
| **VIII** | **OpenAPI спецификация** | [`Open API`](https://redocly.github.io/redoc/?url=https://raw.githubusercontent.com/WilhelmGans/autoH2O/main/docs/api-docs.json) |
